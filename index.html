<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<title>Example</title>
	<style type="text/css">
		* { margin:0; padding:0; } /* to remove the top and left whitespace */
		html, body { width:100%; height:100%; } /* just to be sure these are full screen*/
		canvas { display:block; } /* To remove the scrollbars */
	</style>
</head>
<body>
 <script type="glsl" id="simple.vs">
attribute vec3 pos;

void main() {
	gl_Position = vec4(pos, 1.0);
}
 </script>
 <script type="glsl" id="simple.frag">
void main() {
	gl_FragColor = vec4(0.2, 0.3, 0.8, 1.0);
}
 </script>
<script src="js/shader.js"></script>
<script type="text/javascript">

function draw() {
	try {
		var canvas = document.getElementById("webgl")
		var gl = document.getElementById("webgl")
			.getContext("webgl");
		if (!gl) { throw "x"; }
	} catch (err) {
		throw "Your web browser does not support WebGL!";
	}

	window.addEventListener('resize', resizeCanvas, false);

	shader = new Shader(gl, "simple.vs", "simple.frag")
	shader.compile()
	shader.use()

	shader.attributeSetFloats("pos", 3, [
		-1, 0, 0,
		0, 1, 0,
		0, -1, 0,
		1, 0, 0
	]);

	function resizeCanvas() {
	    canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        gl.viewport(0, 0, window.innerWidth, window.innerHeight)
    	gl.clearColor(0.3, 0.3, 0.3, 1);
		gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT);

    	gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);
    }
    resizeCanvas();
	
}

function init() {
	try {
		draw();
	} catch (e) {
		alert("Error: "+e);
	}
}
setTimeout(init, 100);

</script>
<canvas id="webgl"></canvas>
</body>
</html>